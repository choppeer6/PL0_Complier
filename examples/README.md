# PL/0 示例程序

本文件夹包含了 10 个 PL/0 示例程序，展示了 PL/0 语言的各种特性。

## 📝 示例列表

### 1. 简单的算术运算 (`01_simple_arithmetic.pl0`)
- **功能**: 计算两个数的和
- **知识点**: 变量声明、赋值、算术运算、输出

### 2. 常量定义 (`02_constants.pl0`)
- **功能**: 使用常量计算圆的周长
- **知识点**: 常量声明、多个常量定义、表达式计算

### 3. 条件语句 (`03_if_statement.pl0`)
- **功能**: 找出两个数中的最大值
- **知识点**: if-then 条件语句、关系运算符

### 4. 循环语句 (`04_while_loop.pl0`)
- **功能**: 计算 1 到 n 的和
- **知识点**: while-do 循环、复合语句 (begin-end)

### 5. 阶乘计算 (`05_factorial.pl0`)
- **功能**: 计算 n 的阶乘
- **知识点**: 循环、乘法运算

### 6. 过程调用 (`06_procedure.pl0`)
- **功能**: 使用过程实现计数器
- **知识点**: 过程定义、过程调用、作用域

### 7. 嵌套过程 (`07_nested_procedure.pl0`)
- **功能**: 演示多层嵌套的过程
- **知识点**: 嵌套过程、层次访问、静态作用域

### 8. ODD 函数 (`08_odd_function.pl0`)
- **功能**: 判断数字的奇偶性
- **知识点**: odd 函数、条件判断

### 9. 斐波那契数列 (`09_fibonacci.pl0`)
- **功能**: 计算斐波那契数列的第 n 项
- **知识点**: 循环、多变量操作、临时变量

### 10. 最大公约数 (`10_gcd.pl0`)
- **功能**: 使用欧几里得算法计算 GCD
- **知识点**: 不等于运算符 (#)、取模运算

## 🚀 运行示例

### 方法 1: 使用 Web 界面

1. 启动 Streamlit 应用：
```bash
streamlit run app.py
```

2. 在浏览器中打开 `http://localhost:8501`

3. 复制示例代码到输入框，点击"编译并运行"

### 方法 2: 使用命令行

```python
from pl0_lexer import Lexer
from pl0_semantic import Parser
from pl0_vm import VM

# 读取示例文件
with open('examples/01_simple_arithmetic.pl0', 'r', encoding='utf-8') as f:
    code = f.read()

# 编译并运行
lexer = Lexer(code)
tokens = lexer.get_tokens()

parser = Parser(tokens)
p_code = parser.parse()

vm = VM(p_code)
result = vm.run()
print(result)
```

## 📊 预期输出

| 示例 | 预期输出 | 说明 |
|------|----------|------|
| 01 | 30 | 10 + 20 = 30 |
| 02 | 31 | 2 × 3.14 × 5 ≈ 31 |
| 03 | 25 | max(25, 18) = 25 |
| 04 | 55 | 1+2+...+10 = 55 |
| 05 | 120 | 5! = 120 |
| 06 | 3 | 调用 3 次 increment |
| 07 | 10 | 5 × 2 = 10 |
| 08 | 1 | 7 是奇数 |
| 09 | 55 | 斐波那契第 10 项 |
| 10 | 6 | gcd(48, 18) = 6 |

## 💡 学习建议

1. **按顺序学习**: 示例从简单到复杂，建议按顺序学习
2. **修改参数**: 尝试修改示例中的数值，观察输出变化
3. **查看 P-Code**: 在 Web 界面中查看生成的中间代码，理解编译过程
4. **组合特性**: 尝试组合不同示例的特性，编写自己的程序

## 🔧 常见问题

### Q: 为什么没有 else 语句？
A: PL/0 是一个简化的教学语言，不支持 else。可以使用两个 if 语句实现类似效果。

### Q: 如何实现取模运算？
A: PL/0 没有直接的取模运算符，可以使用 `a - (a / b) * b` 来计算 a mod b。

### Q: 过程可以有参数吗？
A: PL/0 的过程不支持参数，但可以通过外层变量传递数据。

### Q: 如何输入数据？
A: 使用 `read(变量名)` 语句，在虚拟机执行时提供输入数据。

## 📚 扩展练习

尝试编写以下程序：

1. **素数判断**: 判断一个数是否为素数
2. **完全数**: 找出小于 100 的所有完全数
3. **数字反转**: 将一个整数的各位数字反转
4. **平方根**: 使用牛顿迭代法计算平方根（整数部分）
5. **汉诺塔**: 使用递归过程解决汉诺塔问题（需要扩展语言支持）

---

**提示**: 所有示例程序都经过测试，可以正常编译和运行。如果遇到问题，请检查语法是否正确。

